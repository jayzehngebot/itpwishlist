

		<div id="headRule">
			<div id="headContainer">
				<h2>ITP</h2><h1>WishList</h1>
				<span class="newClass"><a href="/add">Add New</a></span>
			</div>
		</div>

	
		<div id="bodyBlock">
			
			{{# classes}}
			
			<div class="dreamClass {{proj_or_theory}}">
				<div class="className">
					<h1>{{name}}</h1>
				</div>
				<div class="desc">
				{{description}}
				</div>
				<div class="themes">
					Themes
				</div>
				<div class="skills">
					Skills
				</div>
				<div class="{{slug}}" style="cursor:hand;display:inline-block;width:30;">
					<span class="aye">&#x25B2;<span class="ayesNumber">{{ayes}}</span></span>
					
				</div>

			</div>


			{{/ classes}}

		</div>

<script>
$(document).ready(function (){
		//variable to hold things voted for
		var classesVotedFor = '';

	$('.aye').click(function(e){
		e.preventDefault();
		var place = $(this);
		var slug = $(this).parent().attr("class");
		console.log('current parent : ' +slug);
		var currAyes = $(this).children('.ayesNumber').text();
		console.log('current ayes val : ' +currAyes);
		var target = $(this).children('.ayesNumber').attr("class");
		console.log('current target : ' +target);
		var newAyes = (parseInt(currAyes)+1);
		console.log(newAyes);

		console.log("voted for : "+classesVotedFor);

		// check to see if prev vote for this slug

		searchVotes(slug, place, newAyes);	

		//if their session contains this class slug



        });    


		function searchVotes(data, t_place, t_ayes){

			var string = classesVotedFor;
			var searchHits = string.search(data);

			console.log('results of string search : '+searchHits);

				if (searchHits == -1){

						//alert('you already voted for '+ data);

						$.ajax({
	                    url : 'classes/'+data+'/edit',
	                    //dataType : 'json', // this isnt json, so I don't need this.
	                    type : 'POST',
	                    data : {
	                    	//classesVotedFor : t_place,
	                        ayes : t_ayes
	                    },
	                    success : function(response){
	                   
	                        t_place.children('.ayesNumber').text(t_ayes);
	                        classesVotedFor += data+",";

	                    },
	                    error : function(error){
	                        console.log('error on ajax');

	                    }


					});


				};
			};

});
</script>
